<!-- 
  book.ejs
  Marco Mejia 301082190
  24 Feb 2021

  Books page
-->

<%- include ../partials/header.ejs %>
<%- include ../partials/main_nav.ejs %>
  
  <!-- Books Content -->
  <main class="book-list">
      <div class="container">
        <div class="row">
          <div class="col-md-offset-3 col-md-10">
              <h1><%= title %></h1>

              <% if (typeof displayName == 'string' && displayName){ %>
              <a href="/book-list/add" class="btn btn-primary" role="button">
              <i class="fas fa-plus-circle"></i> Add a Book
              <% } %>
              </a>
              <br>
              <table class="table table-bordered table -striped table-hover">
                  <!-- Header Row-->
                  <tr class="d-flex">
                    <% if (typeof displayName == 'string' && displayName){ %>
                      <th class="text-center col-2">Name</th>
                      <th class="text-center col-2">Author</th>
                      <th class="text-center col-1">Published</th>
                      <th class="text-center col-4">Description</th>
                      <th class="text-center col-1">Price</th>
                      <th class="text-center col-1"></th>
                      <th class="text-center col-1"></th>
                    <% } else{ %>
                      <th class="text-center col-2">Name</th>
                      <th class="text-center col-2">Author</th>
                      <th class="text-center col-1">Published</th>
                      <th class="text-center col-6">Description</th>
                      <th class="text-center col-1">Price</th>
                    <% } %>
                  </tr>
                  <!-- Repeteable Template Row -->

                  <% for(let count = 0; count< BookList.length; count++){ %>
                    <tr class="d-flex">
                      <% if (typeof displayName == 'string' && displayName){ %>
                        <td class="text-center col-2"><%= BookList[count].name %> </td>
                        <td class="text-center col-2"><%= BookList[count].author %> </td>
                        <td class="text-center col-1"><%= BookList[count].published %> </td>
                        <td class="text-center col-4"><%= BookList[count].description %> </td>
                        <td class="text-center col-1"><%= BookList[count].price %> </td>
                        <td class="text-center col-1">
                          <a href="/book-list/edit/<%= BookList[count].id %>" class="btn btn-primary btn-sm">
                          <i class="fas fa-pencil-alt"></i> Edit</a>
                        </td>
                        <td class="text-center col-1">
                          <a href="/book-list/delete/<%= BookList[count].id %>" class="btn btn-danger btn-sm">
                          <i class="fas fa-trash-alt"></i> Delete</a>
                        </td>
                      <% } else { %>
                        <td class="text-center col-2"><%= BookList[count].name %> </td>
                        <td class="text-center col-2"><%= BookList[count].author %> </td>
                        <td class="text-center col-1"><%= BookList[count].published %> </td>
                        <td class="text-center col-6"><%= BookList[count].description %> </td>
                        <td class="text-center col-1"><%= BookList[count].price %> </td>
                      <% } %>
                    </tr>
                  <%} %>
              </table>
          </div>
        </div>
      </div>
  </main>
  <!-- End Home Content -->
  
<%- include ../partials/bottom_nav.ejs %>  
<%- include ../partials/footer.ejs %>